server:
  workers: 1
additionalProperties:
  log.level: INFO
  logger.io.trino.plugin.iceberg: DEBUG
  logger.io.trino.plugin.iceberg.catalog.rest: DEBUG
  logger.io.trino.filesystem.s3.debug: true
  logger.io.trino.s3.debug: true
catalogs:
  iceberg: |
    connector.name=iceberg
    iceberg.catalog.type=rest
    iceberg.rest-catalog.uri=http://polaris.polaris.svc.cluster.local:8181/api/catalog
    iceberg.rest-catalog.warehouse=ao_catalog
    iceberg.rest-catalog.vended-credentials-enabled=true
    iceberg.rest-catalog.security=oauth2
    iceberg.rest-catalog.oauth2.credential=root:${env:POLARIS_ROOT_PASSWORD}
    iceberg.rest-catalog.oauth2.scope=PRINCIPAL_ROLE:ALL
    iceberg.rest-catalog.oauth2.server-uri=http://polaris.polaris.svc.cluster.local:8181/api/catalog/v1/oauth/tokens
    fs.native-s3.enabled=true
    s3.region=${env:AWS_REGION}
    s3.path-style-access=true
service:
  type: ClusterIP
# envFrom:
#   - secretRef:
#       name: polaris-principal